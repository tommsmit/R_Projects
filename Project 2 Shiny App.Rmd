---
title: 'Project 2: Dropout Rates in Texas Public Schools from 1998 to 2019'
author: "Thomas Smith"
date: "4/21/2021"
output: html_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Project Overview

For my second project, I wanted to explore dropout rates in Texas public schools. As a former high school math teacher, I worked with countless students, each with their own background, heritage and labels. A lot of those students struggled in high school, but luckily very few of them dropped out. 

According to Texas Education Agency (TEA), there are a multitude of reasons for dropping out of high school. Here are some common reasons:

- Poor attendance (attrition)
- Entered into alternative GED (non-diploma) program
- Not enough credits earned
- Didn't pass Standardized Exams (STAAR)
- Age being above the maximum limit
- Expulsion
- Incarceration
- Being homeless
- Deceased 

I decided to focus on three main factors: Grade level, Race/Ethnicity, and student characteristics.

Student characteristics include: Special Education, 504, Gifted and Talented (GT), At Risk, English Language Learner (ELL), dyslexic, ect.

I scraped data from [TEA's Website](https://tea.texas.gov/) from 1998-2019 and analyzed the data. Here are my results. 

***

```{r dropout, echo=FALSE}
library(shiny)
library(ggplot2)
#Load the Library
load("C:/Users/12108/OneDrive/Desktop/UTSA/Spring 2021/R Project/R_Projects/Project 2/total1.RData")
load("C:/Users/12108/OneDrive/Desktop/UTSA/Spring 2021/R Project/R_Projects/Project 2/total4.RData")
load("C:/Users/12108/OneDrive/Desktop/UTSA/Spring 2021/R Project/R_Projects/Project 2/total5.RData")
load("C:/Users/12108/OneDrive/Desktop/UTSA/Spring 2021/R Project/R_Projects/Project 2/total8.RData")


# Define UI for application that draws a histogram
ui<-navbarPage("Exploring Dropout Rates By:",
           tabPanel("Grade Level",
                    
                    sidebarLayout(
                        #Inputs: Select which inputs from the data we want to display
                        sidebarPanel(
                            #Select variable for y-axis
                            selectInput(inputId = "y", 
                                        label = "Y-axis:",
                                        choices = c("Female","Female_Percentage","Male","Male_Percentage","State","State_Percentage"), 
                                        selected = "Female"),
                            #Select X-axis variables
                            selectInput(inputId = "x", 
                                        label = "X-axis:",
                                        choices = c("School_Year","Grade"), 
                                        selected = "School_Year"),
                            #Select Grade Level
                            selectInput(inputId = "z", 
                                        label = "Color:",
                                        choices = c("Grade","School_Year"),
                                        selected = "Grade"),
                            hr(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            br(),
                            
                            p("Barplot Data"),
                            
                            selectInput(inputId = "j", 
                                        label = "Female Dropouts by Grade Level",
                                        choices = c("Fem_Grade_7","Fem_Grade_8","Fem_Grade_9","Fem_Grade_10","Fem_Grade_11","Fem_Grade_12"),
                                        selected = "Fem_Grade_7"),
                        
                            
                            selectInput(inputId = "i", 
                                        label = "X-axis:",
                                        choices = c("School_Year"), 
                                        selected = "School_Year"),
                            
                            # Select Colors
                            selectInput(inputId = "h", 
                                        label = "Color",
                                        choices =  c("red","green","blue","yellow","black"), 
                                        selected = "black")
                        ),
                        
                        #Output: Type of plot
                        mainPanel(
                            plotOutput(outputId = "Graphic"),
                            hr(),
                            plotOutput(outputId="Barplot"),
                        )

                    )
                ),

           tabPanel("Ethnicity/Race",
                    sidebarLayout(
                        #Inputs: Select which inputs from the data we want to display
                        sidebarPanel(
                            #Select variable for y-axis
                            selectInput(inputId = "a", 
                                        label = "Y-axis:",
                                        choices = c("Female_Dropouts","Female_Dropouts_Percentage","Male_Dropouts","Male_Dropouts_Percentage","Annual_Female_Dropout_Rate","Annual_Male_Dropout_Rate"), 
                                        selected = "Female_Dropouts"),
                            #Select X-axis variables
                            selectInput(inputId = "b", 
                                        label = "X-axis:",
                                        choices = c("School_Year","Grade_Level"), 
                                        selected = "School_Year"),
                            #Select Grade Level
                            selectInput(inputId = "c", 
                                        label = "Color:",
                                        choices = c("Race","Grade_Level"),
                                        selected = "Race")
                        ),
                        
                        #Output: Type of plot
                        mainPanel(
                            plotOutput(outputId = "Graphic2"),
                        )
                    )
           ),
           
           tabPanel("Student Characteristics",
                    sidebarLayout(
                        #Inputs: Select which inputs from the data we want to display
                        sidebarPanel(
                            #Select variable for y-axis
                            selectInput(inputId = "d", 
                                        label = "Y-axis:",
                                        choices = c("Students","Students_Percentage","Dropouts","Dropouts_Percentage","Annual_Dropout_Rate","Male_Dropouts_Percentage"), 
                                        selected = "Dropouts"),
                            #Select X-axis variables
                            selectInput(inputId = "e", 
                                        label = "X-axis:",
                                        choices = c("School_Year","Groups"), 
                                        selected = "School_Year"),
                            #Select Grade Level
                            selectInput(inputId = "f", 
                                        label = "Color:",
                                        choices = c("Groups","School_Year"),
                                        selected = "Groups")
                        ),
                        
                        #Output: Type of plot
                        mainPanel(
                            plotOutput(outputId = "Graphic3"),
                        )
                    )
           )
)

server<-function(input, output) {
    output$Graphic <- renderPlot({
        # draw the histogram with the specified number of bins
        ggplot(total1, aes_string(x=input$x, y=input$y,col=input$z)) + geom_jitter()
      #Notice the difference between the ggplots
    })
    
    output$Barplot <- renderPlot({
        ggplot(total4, aes_string(x=input$i, y=input$j)) + geom_col(color=input$h)


    })
    
    output$Graphic2 <- renderPlot({
        # draw the histogram with the specified number of bins
        ggplot(total5, aes_string(x=input$b, y=input$a,col=input$c)) + geom_jitter() #Notice the difference between the ggplots
    })
    
    output$Graphic3 <- renderPlot({
        # draw the histogram with the specified number of bins
        ggplot(total8, aes_string(x=input$e, y=input$d,col=input$f)) + geom_jitter() #Notice the difference between the ggplots
    })
}



# Run the application 
shinyApp(ui = ui, server = server)

```